# 能源感知AI部署：模型量化与硬件平台互动关系研究

**CE 495 能源感知智能期末项目**

**边昊济 • 王子楠 • 吕任远**  
西北大学计算机科学系

---

## 幻灯片1：标题页 (10秒)

### 演讲内容
"大家好！我是边昊济，今天将代表我们团队展示关于能源感知AI部署的研究成果。"

---

## 幻灯片2：研究动机 (25秒)

### 核心问题
- **大型语言模型能源挑战**
  - 训练一个大型Transformer需要：**1,287,000千瓦时**
  - 相当于多辆汽车的终身排放
  - 生产系统中推理需求不断增长

### 研究空白
推理阶段的能源优化尽管在部署场景中至关重要，但受到的关注不足。

### 演讲内容
"训练一个大型Transformer需要消耗127万千瓦时的电力，相当于多辆汽车的终身排放。然而，在实际部署中，推理阶段的能源优化同样关键，但这一领域的研究还存在明显空白。"

---

## 幻灯片3：核心研究问题 (25秒)

### 中心问题
**如何通过量化技术和硬件平台的系统性优化来实现能源高效的LLM部署？**

### 对比分析
| 现有研究局限 | 我们的贡献 |
|-------------|------------|
| 关注孤立的优化因素 | 系统性协同优化方法 |
| 缺乏系统性评估框架 | 综合评估框架 |
| 部署指导有限 | 实用部署指南 |

### 演讲内容
"我们的核心研究问题是：如何通过量化技术和硬件平台的系统性优化来实现能源高效的LLM部署？现有研究往往关注单一因素，而我们提出了系统性的协同优化方法。"

---

## 幻灯片4：方法论概览 (30秒)

### 三大支柱方法

1. **量化分析**
   - INT8量化
   - FP16混合精度
   - 动态量化

2. **硬件评估**
   - 6个GPU平台
   - 3代架构演进
   - 全面性能分析

3. **能效指标**
   - 能源输出比 (EOR)
   - 时间加权EOR (TWEOR)
   - 1Hz精度监控

### 系统性评估
**6个平台 × 6个模型 × 5个基准任务**

### 演讲内容
"我们的方法基于三大支柱：量化技术分析、硬件平台评估和创新的能效指标。通过6个平台、6个模型和5个基准任务的系统性评估，我们建立了全面的研究框架。"

---

## 幻灯片5：新颖能效指标 (30秒)

### 指标定义

**能源输出比 (EOR)**
```
EOR = 任务性能得分 / 能源消耗(Wh)
```

**时间加权能源输出比 (TWEOR)**
```
TWEOR = 任务性能得分 / (能源消耗(Wh) × 推理时间(s))
```

### 指标优势
- 捕捉复杂权衡关系
- 融入时间效率考量
- 支持部署优化决策

### 数据采集
- NVIDIA SMI工具
- 1Hz采样频率
- 精确能源测量

### 演讲内容
"我们提出了两个创新指标：EOR和TWEOR。EOR关注性能与能耗的比值，而TWEOR进一步考虑了时间因素。这些指标能够捕捉传统指标遗漏的复杂权衡关系。"

---

## 幻灯片6：实验配置 (30秒)

### GPU平台
- A100 PCIE (Ampere架构)
- RTX 4090 (Ada Lovelace架构)
- RTX 3090 Ti (Ampere架构)
- RTX 4060 Ti (Ada Lovelace架构)
- V100 (Volta架构)
- L40S (Ada Lovelace架构)

### 7B语言模型
- Qwen2.5-7B-Instruct
- DeepSeek-R1-Distill-Qwen-7B
- Mistral-7B-Instruct-v0.2
- Intel Neural-Chat-7B-v3-3
- BigScience Bloomz-7B1
- 01-AI Yi-6B

### 基准任务
MMLU • ARC • TruthfulQA • GSM8K • HellaSwag

### 演讲内容
"我们的实验涵盖了6个不同的GPU平台，代表了3代GPU架构的演进。测试了6个主流的7B参数语言模型，并使用了5个标准基准任务进行评估。"

---

## 幻灯片7：发现一 - 量化技术效果 (60秒)

### 量化策略对比

| 量化策略 | 能源减少 | 准确率损失 | EOR提升 | 评级 |
|----------|----------|------------|---------|------|
| INT8量化 | **25.0%** | **<1.0%** | **32.1%** | 优秀 |
| FP16混合精度 | 16.3% | 0.2% | 19.4% | 良好 |
| 动态量化 | 10.5% | 1.5% | 11.7% | 中等 |

### INT8量化结果
- DeepSeek-7B: **39.65Wh → 29.74Wh**
- 准确率下降：0.7-0.9个百分点
- 减少内存带宽需求
- 现代GPU上的整数运算优化

### 关键洞察
不同量化策略展现出不同优势，需要根据应用需求进行特定选择。

### 演讲内容
"第一个重要发现是量化技术的显著效果。INT8量化表现最佳，实现了25%的能源减少，准确率损失不到1%，EOR提升32%。以DeepSeek-7B为例，能耗从39.65Wh降至29.74Wh。"

---

## 幻灯片8：发现二 - 硬件架构分析 (60秒)

### A100 PCIE领导地位
- **所有场景下最高能效**
- 1,555 GB/s内存带宽
- 第3代Tensor Core
- 40GB HBM2内存

### 平台差异化
- **高带宽**: A100, V100
- **功耗优化**: RTX 4060Ti
- **高性能消费级**: RTX 4090

### Ada Lovelace架构优势
**20-30%** 能效提升（相比前代架构）

### 架构创新
**15-25%** 单计算单元效率提升（通过第4代Tensor Core）

### 演讲内容
"第二个发现关于硬件架构。A100 PCIE在所有场景下都展现了最高能效。值得注意的是，Ada Lovelace架构相比前代实现了20-30%的能效提升，第4代Tensor Core带来了15-25%的单元效率提升。"

---

## 幻灯片9：发现三 - 协同优化效应 (60秒)

### 核心成果
**40%** 整体能效提升（A100 PCIE + INT8量化）

### 优化策略对比

| 优化策略 | 效率提升 |
|----------|----------|
| A100 + INT8 | **40.0%** |
| RTX 4090 + FP16 | **35.2%** |
| RTX 4060Ti + 动态量化 | 25.1% |

### 额外效益
- **知识蒸馏**: DeepSeek-R1-Distill额外提供**19.8%**能源减少
- **准确率保持**: 维持**98%+**基准性能
- **指标验证**: EOR/TWEOR捕捉传统指标遗漏的细节

### 关键结论
硬件-软件协同优化实现乘数效益

### 演讲内容
"第三个也是最重要的发现：协同优化的乘数效应。A100 PCIE配合INT8量化实现了40%的整体能效提升。知识蒸馏技术提供了额外的19.8%能源减少，同时保持98%以上的基准精度。"

---

## 幻灯片10：实用部署框架 (30秒)

### 部署场景推荐

1. **数据中心生产**
   - 硬件：A100 PCIE
   - 量化：INT8量化
   - 性能：98%
   - 效率提升：40%

2. **企业级应用**
   - 硬件：RTX 4090
   - 量化：FP16混合精度
   - 性能：99%
   - 效率提升：35%

3. **边缘计算**
   - 硬件：RTX 4060 Ti
   - 量化：动态量化
   - 性能：95%
   - 效率提升：25%

### 决策框架
硬件评估 → 应用需求分析 → 成本约束考虑 → 最优配置

### 演讲内容
"基于我们的研究，我们提供了针对不同场景的部署建议：数据中心生产推荐A100配合INT8量化，企业级应用推荐RTX 4090配合FP16混合精度，边缘计算推荐RTX 4060Ti配合动态量化。"

---

## 幻灯片11：配置决策矩阵 (30秒)

### 部署配置矩阵

| 使用场景 | 硬件 | 量化方法 | 性能 | 效率提升 | 成本 |
|----------|------|----------|------|----------|------|
| 数据中心生产 | A100 PCIE | INT8 | 98% | **40%** | 高 |
| 企业级应用 | RTX 4090 | FP16 | 99% | **35%** | 中高 |
| 研发测试 | RTX 3090Ti | FP16 | 97% | 30% | 中 |
| 边缘计算 | RTX 4060Ti | 动态量化 | 95% | 25% | 低 |
| 预算受限 | V100 | INT8 | 94% | 28% | 低 |

### 选择原则
- **精度优先** → FP16混合精度
- **能耗优先** → INT8量化
- **灵活性优先** → 动态量化

### 演讲内容
"我们创建了一个详细的配置决策矩阵，为实际部署提供科学的决策框架，平衡性能、效率和成本考虑。根据优先级不同，可以选择相应的最优策略。"

---

## 幻灯片12：研究贡献与影响 (30秒)

### 技术贡献
- 首个量化-硬件协同优化框架
- 新颖的EOR/TWEOR能效指标
- 基于实证的部署指南

### 更广泛影响
- 可持续AI发展的基础洞察
- 实用部署工具
- 科学决策框架

### 关键发现总结
- **25%** 量化节能潜力
- **40%** 协同优化收益
- **98%+** 准确率保持

### 未来方向
更大模型规模 → 新硬件架构 → 生产部署验证

### 演讲内容
"我们的研究做出了三大技术贡献：首个协同优化框架、新颖的能效指标体系和实证驱动的部署指南。主要发现包括25%的量化节能潜力、40%的协同优化收益，以及98%以上的准确率保持。感谢大家的关注！"

---

## Q&A备用页

### 可能的问题与答案

**Q: 为什么选择7B参数的模型？**
A: 7B模型在资源约束和性能之间达到了很好的平衡，代表了当前主流的部署规模，便于进行系统性的对比分析。

**Q: EOR和TWEOR指标的实际应用场景？**
A: EOR适用于关注整体能效的场景，TWEOR适用于实时性要求高的应用。两个指标结合使用可以全面评估不同部署策略的效果。

**Q: 量化技术的精度损失是否可以接受？**
A: 我们的实验表明，INT8量化的精度损失通常小于1%，在大多数实际应用中是完全可以接受的，特别是考虑到25%的能源节省。

**Q: 这些结果是否适用于更大规模的模型？**
A: 我们的框架具有良好的可扩展性。虽然具体数值可能有所差异，但协同优化的原理和方法在更大规模模型上同样适用。

---

## 展示技巧提醒

### 时间控制
- 开场：简洁介绍（10秒）
- 问题陈述：清晰明确（50秒）
- 方法论：系统展示（90秒）
- 核心结果：重点突出（180秒）
- 应用价值：实用导向（60秒）
- 总结：简洁有力（30秒）

### 重点强调
- 用手势配合关键数字（25%、40%、98%+）
- 在"协同优化"处适当停顿
- 结论部分语调上扬，体现自信

### 互动准备
- 准备好回答关于实验细节的问题
- 对比传统方法的优势
- 实际部署的考虑因素 